(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},r=[],s=0;s<e.length;s++){var d=e[s],c=o.base?d[0]+o.base:d[0],l=i[c]||0,p="".concat(c," ").concat(l);i[c]=l+1;var m=n(p),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)t[m].references++,t[m].updater(u);else{var h=a(u,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:h,references:1})}r.push(p)}return r}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=o(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<i.length;r++){var s=n(i[r]);t[s].references--}for(var d=o(e,a),c=0;c<i.length;c++){var l=n(i[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=d}}},108:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(601),a=n.n(o),i=n(314),r=n.n(i)()(a());r.push([e.id,":root {\n  color-scheme: dark light;\n  --main-color: fieldtext;\n  --gray-color: graytext;\n  --red-color: activetext;\n  --top-color: color-mix(in hsl, highlight 32%, field);\n  --light-gray-color: color-mix(in hsl, buttonface 48%, field);\n  --start-color: color-mix(in hsl, mark 64%, linktext);\n  --warn-color: color-mix(in hsl, activetext 28%, field);\n\n  font-family: sans-serif;\n  color: var(--main-color);\n  box-sizing: border-box;\n}\nh1 {\n  align-self: center;\n  font-size: 2.25rem;\n  margin: 0.25em 0;\n}\nh2 {\n  font-size: 2rem;\n  margin: 0;\n  font-style: italic;\n}\nh3 {\n  font-size: 1.5rem;\n  margin: 0;\n  font-style: italic;\n  font-variant: small-caps;\n  text-align: center;\n}\n.wrapper {\n  max-inline-size: 80ch;\n  margin: 0 auto;\n  overflow: hidden;\n}\n.sticky {\n  position: sticky;\n  top: 0;\n  border-block-end: thin solid var(--gray-color);\n  padding-block-end: 10px;\n  background-color: field;\n}\nheader, .rowDiv {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  column-gap: 0.5vi;\n  padding: 0.5rem 0.5vi;\n}\n.rowDiv:first-child {\n  flex-wrap: nowrap;\n}\nheader {\n  background-color: var(--top-color);\n}\nheader button:nth-child(-n + 4) {\n  flex: 1;\n  line-height: 1;\n}\nbutton {\n  font-weight: bold;\n  font-size: 1.125rem;\n  padding: 0.25rem 0.75rem;\n  line-height: 1;\n  background: unset;\n  border: thin solid buttonborder;\n  cursor: pointer;\n  &:hover, &:focus {\n    background-color: buttonface;\n  }\n}\n#colorScheme {\n  border-radius: 50vh;\n  padding-block-start: 0.35rem;\n  padding-block-end: 0.6rem;\n  &::before {\n    content: '\\25d1';\n    padding-inline-end: 0.125rem;\n    font-size: 1.5rem;\n    line-height: 0.75;\n  }\n}\nmain {\n  min-block-size: 87vb;\n  display: flex;\n  flex-direction: column;\n}\n.startTitle, .startProject {\n  min-block-size: 87vb;\n  align-content: center;\n  padding: 0 0.5rem;\n  text-align: center;\n  & button {\n    margin-block-start: 1.5rem;\n    padding: 0.5rem;\n  }\n}\n.startProject {\n  min-block-size: 80vb;\n  border-block-start: medium double var(--gray-color);\n}\n.flexDate {\n  display: flex;\n  justify-content: center;\n  column-gap: 2ch;\n}\n.displayed {\n  display: none;\n}\n#changeDateList {\n  font-size: 1.5rem;\n  padding: 0.25em 7.5vi;\n  border-block-start: medium double var(--gray-color);\n  & button {\n    flex:1;\n    font-size: 2rem;\n    line-height: 0.75;\n    padding-block-end: 0.4rem;\n    border-color: var(--light-gray-color);\n  }\n}\n#timeChList {\n  margin: 0;\n  flex: 7;\n  text-align: center;\n}\n.invisible {\n  visibility: hidden;\n}\nsection {\n  border: unset;\n  border-block-end: thin solid var(--gray-color);\n}\nsection > .rowDiv {\n  padding: 0.25rem 0.5vi;\n}\nsection > .rowDiv.head p:nth-child(3) {\n  flex: 2;\n  text-align: center;\n  color: var(--red-color);\n  font-size: 1.375rem;\n  margin: 0;\n}\nsection > .rowDiv > button{\n  padding: 0.125rem 0.75rem;\n  vertical-align: top;\n  flex: 3;\n}\nsection > .rowDiv.warn > button {\n  padding: 0.5rem 0.75rem;\n}\narticle .rowDiv > button {\n  padding: 0.5rem 0.75rem;\n  &:first-child {\n    flex: 3;\n  }\n}\narticle .rowDiv.head > p:nth-child(3){\n  flex: 2;\n  text-align: center;\n  color: var(--red-color);\n  font-size: 1.375rem;\n  margin: 0;\n}\n.dayHead {\n  padding: 0.25rem 0;\n  border-block-start: thick double var(--gray-color);\n}\n.head {\n  background-color: var(--light-gray-color);\n  border-block-start: medium double var(--gray-color);\n  & button {\n    flex: 2;\n  }\n  & h3 {\n    flex: 8;\n  }\n}\ninput[type='checkBox'] {\n  width: 1.25rem;\n  height: 1.25rem;\n}\np time {\n  border: thick solid var(--light-gray-color);\n}\np.rowDiv {\n  padding: 0;\n  & span:first-child {\n    flex: 12;\n    padding-inline-start: 0.5rem;\n  }\n  & time {\n    flex: 3;\n    text-align: center;\n  }\n}\n.warn {\n  background-color: var(--warn-color);\n  & p {\n    flex: 10;\n    font-size: 1.25rem;\n    margin: 0.5rem 0;\n  }\n}\n.decoration {\n  margin: 0;\n  flex: 12;\n}\n.rowDiv.warn button{\n  flex: 2;\n}\n.bodyLine {\n  flex-wrap: wrap;\n  padding: 0 0.5vi;\n  border-block-start: thin solid var(--gray-color);\n  & p {\n    padding: 0.5rem 0;\n    margin: 0;\n  }\n  & p:last-child {\n    width: 100%;\n    border-block-start: thin solid var(--top-color);\n  }\n}\n.checkable {\n  text-decoration: solid line-through var(--main-color) 0.25rem;\n}\n.spanBold {\n  font-weight: bold;\n  font-size: 1.0625em;\n}\n.during {\n  border: thick solid mark;\n}\n.forgot {\n  border: thick solid var(--red-color);\n}\n.startWork {\n  border: thick solid var(--start-color);\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  row-gap: 1ch;\n}\nlabel {\n  display: flex;\n  flex-direction: column;\n  margin-block-end: 1.5ch;\n}\nlabel:nth-child(3) {\n  flex-direction: row;\n  column-gap: 0.5ch;\n}\nform > div{\n  display: flex;\n  justify-content: space-between;\n  column-gap: 2ch;\n  & > button {\n    flex: 1;\n  }\n}\nfieldset > button {\n  display: block;\n  margin: 2ch auto 0;\n}\n.error {\n  outline: 0.25ch solid var(--red-color);\n  outline-offset: 0.25ch;\n}\n",""]);const s=r},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(o)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(r[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);o&&r[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,a&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var o=n(72),a=n.n(o),i=n(825),r=n.n(i),s=n(659),d=n.n(s),c=n(56),l=n.n(c),p=n(540),m=n.n(p),u=n(113),h=n.n(u),g=n(108),f={};f.styleTagTransform=h(),f.setAttributes=l(),f.insert=d().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=m(),a()(g.A,f),g.A&&g.A.locals&&g.A.locals;const y=class{constructor(e){this.date=e?new Date(e):new Date}dayString(){return this.date.getFullYear()+"-"+(1===(this.date.getMonth()+1).toString().length?"0"+(this.date.getMonth()+1):this.date.getMonth()+1)+"-"+(1===this.date.getDate().toString().length?"0"+this.date.getDate():this.date.getDate())}dateString(){return this.dayString()+"T"+(1===this.date.getHours().toString().length?"0"+this.date.getHours():this.date.getHours())+":"+(1===this.date.getMinutes().toString().length?"0"+this.date.getMinutes():this.date.getMinutes())}calendarDate(){return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"2-digit"}).format(this.date)}timesOfDay(){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(this.date)}},b=class{constructor(){this.storageExist=!!localStorage.getItem("dataTodo")}storageContent(){return this.storageExist?JSON.parse(localStorage.getItem("dataTodo")):[{id:"topicList",topicIds:[]}]}idToIndexTopicObj(){let e={};return this.storageContent()[0].topicIds.length&&this.storageContent()[0].topicIds.forEach((t=>{e[this.storageContent()[t].id]=t})),e}idToIndexTaskObj(){let e={};return this.storageContent()[0].topicIds.length&&this.storageContent()[0].topicIds.forEach((t=>{this.storageContent()[t].taskIds.forEach((t=>{e[this.storageContent()[t].id]=t}))})),e}idTasksInWork(){let e=[];return this.storageContent()[0].topicIds.length&&this.storageContent().forEach(((t,n)=>{n>this.storageContent()[0].topicIds.at(-1)&&+t.id<=Date.now()&&new y(+t.id).dayString()>new y(Date.now()-864e5).dayString()&&e.push(t.id)})),e.sort()}taskByDaily(){const e=new y(Date.now()).dayString(),t={},n={};return this.storageContent()[0].topicIds.length&&this.storageContent().forEach(((e,n)=>{if(n>this.storageContent()[0].topicIds.at(-1)){let n=new y(new Date(+e.id)).dayString();t[n]?t[n].push(e.id):t[n]=[e.id]}})),t[e]||(t[e]=[]),Object.keys(t).forEach((e=>{n[e]=t[e].sort().map((e=>this.idToIndexTaskObj()[e]))})),n}},k=class extends b{entry;date="";pas="";info="";task="";constructor(e,t,n,o,a){super(),this.entry=e,this.date=t,this.pas=n,this.info=o,this.task=a}taskDelete(){const e=this.storageContent(),t=this.entry.slice(3),n=this.idToIndexTaskObj()[t];let o;e[0].topicIds.forEach((t=>{if(e[t].taskIds.includes(n))return o=t,e[t].taskIds.pop(),void e.splice(n,1)})),e[0].topicIds.forEach((t=>{if(t>o){let n=e[t].taskIds.map((e=>e-1));e[t].taskIds=n}})),localStorage.setItem("dataTodo",JSON.stringify(e)),new T(e[o].id).tasksProject()}taskRevise(){const e=this.storageContent(),t=`${Date.parse(this.date)}`,n=this.idToIndexTaskObj()[t];e.splice(n,1,this.#e()),localStorage.setItem("dataTodo",JSON.stringify(e)),new T(this.entry).tasksProject()}taskCreate(){const e=this.storageContent();let t=this.idToIndexTopicObj()[this.entry],n=!1;e[0].topicIds.length?e[t].taskIds.length?n=e[t].taskIds.at(-1)+1:e[0].topicIds.forEach((o=>{if(o<t)e[o].taskIds.length&&(n=e[o].taskIds.at(-1)+1);else if(!n)return void(n=e[0].topicIds.length+1)})):n=2,e[0].topicIds.length&&e[0].topicIds.forEach((n=>{if(n>t){let t=e[n].taskIds.map((e=>e+1));e[n].taskIds=t}})),e[t].taskIds.push(n),e.splice(n,0,this.#e()),localStorage.setItem("dataTodo",JSON.stringify(e)),new T(this.entry).tasksProject()}topicDelete(){const e=this.storageContent(),t=this.idToIndexTopicObj()[this.entry];let n=e[t].taskIds[0]||!1,o=e[t].taskIds.length;e[0].topicIds.forEach((n=>{let a=[];n<t&&e[n].taskIds.length&&(a=e[n].taskIds.map((e=>e-1)),e[n].taskIds=a),n>t&&e[n].taskIds.length&&(a=e[n].taskIds.map((e=>e-(o+1))),e[n].taskIds=a)})),n&&e.splice(n,o),e[0].topicIds.pop(),e.splice(t,1),localStorage.setItem("dataTodo",JSON.stringify(e)),(new T).topicsTodo()}topicCreate(){const e=this.storageContent();let t;e[0].topicIds.length?(t=e[0].topicIds.length+1,e[0].topicIds.forEach((t=>{if(e[t].taskIds.length){let n=e[t].taskIds.map((e=>e+1));e[t].taskIds=n}}))):t=1,e[0].topicIds.push(t),e.splice(t,0,this.#t()),localStorage.setItem("dataTodo",JSON.stringify(e)),(new T).topicsTodo()}topicRevise(){const e=this.storageContent(),t=e[this.idToIndexTopicObj()[this.entry]];t.date=this.date,t.pas=this.pas,t.info=this.info,localStorage.setItem("dataTodo",JSON.stringify(e)),(new T).topicsTodo()}#e(){const e={};return e.id=`${Date.parse(this.date)}`,e.startTime=this.date,e.task=this.task,e.pas=this.pas,e.info=this.info,e.completed=!1,e}#t(){const e={};return e.id=this.entry.includes(" ")?this.entry.trim().replace(" ","-"):this.entry.trim(),e.name=this.entry,e.date=this.date,e.pas=this.pas,e.info=this.info,e.taskIds=[],e}},v=class extends b{type;idTopic;idTask;constructor(e,t,n){super(),this.type=e,this.idTopic=t||!1,this.idTask=n||!1}dialogForm(){document.querySelector("dialog")&&document.querySelector("dialog").remove(),this.#n();const e=document.querySelector("dialog");e.showModal();const t=document.querySelector("#formFieldName"),n=document.querySelector("#formFieldDate"),o=document.querySelector("#formFieldPas"),a=!!document.querySelector("#formFieldTask")&&document.querySelector("#formFieldTask"),i=document.querySelector("#formFieldInfo"),r=document.querySelector("#formBtnConfirm"),s=document.querySelector("#formBtnReset"),d=document.querySelector("#formBtnCancel"),c=this.storageContent(),l=c[0].topicIds;let p=!1,m=!1;if("topicMake"===this.type){const e=[];l.length&&l.forEach((t=>{e.push(c[t].id)})),o.setAttribute("disabled",""),n.addEventListener("change",(()=>{n&&o.removeAttribute("disabled")})),t.addEventListener("input",(n=>{t.setCustomValidity("");let o=n.target.value.trim().includes(" ")?n.target.value.trim().replace(" ","-"):n.target.value.trim();p=e.includes(o),t.style.backgroundColor=p?"mark":"",t.classList.contains("error")&&t.classList.remove("error")})),t.addEventListener("blur",(()=>{t.setCustomValidity(""),t.classList.contains("error")&&t.classList.remove("error")}))}if("topicRevise"===this.type&&n.focus(),this.type.startsWith("task")){const e=[];"taskMake"!==this.type?n.focus():t.focus();const o=n.defaultValue?Date.parse(n.defaultValue):0;l.length&&l.forEach((t=>{c[t].taskIds.forEach((t=>{+c[t].id!==o&&e.push(+c[t].id)}))})),n.addEventListener("input",(()=>{n.setCustomValidity(""),m=e.includes(Date.parse(n.value)),n.style.backgroundColor=m?"mark":"",n.classList.contains("error")&&n.classList.remove("error")})),n.addEventListener("blur",(()=>{n.setCustomValidity(""),n.classList.contains("error")&&n.classList.remove("error")})),a.addEventListener("input",(()=>{a.setCustomValidity(""),a.classList.contains("error")&&a.classList.remove("error")})),a.addEventListener("blur",(()=>{a.setCustomValidity(""),a.classList.contains("error")&&a.classList.remove("error")}))}r.addEventListener("click",(s=>{if(p||!t.validity.valid)t.classList.add("error"),t.focus(),t.validity.valid?t.setCustomValidity("Name has already been used!"):t.setCustomValidity("Topic name required!");else if(m||!n.validity.valid)n.classList.add("error"),n.focus(),m?n.setCustomValidity("The mark is already reserved!"):n.setCustomValidity("The field must be filled in completely!");else if(a&&!a.validity.valid)a.classList.add("error"),a.focus(),a.setCustomValidity("This field is required!");else{if(s.preventDefault(),this.type.startsWith("topic")){const e=["topicMake"===this.type?t.value:t.name,n.value?n.value:"Not specified",o.value,i.value];"topicMake"===this.type?new k(...e).topicCreate():new k(...e).topicRevise()}else{const e=["taskMake"===this.type?t.value:t.name,n.value,o.value,i.value,a.value];"taskRevise"===this.type?new k(...e).taskRevise():new k(...e).taskCreate()}e.close(),e.remove()}r.blur()})),s.onclick=()=>{"topicMake"===this.type?(document.querySelector("form").reset(),t.focus(),s.blur()):(n.value="",i.value="",a&&(a.value=""),n.focus(),s.blur())},d.onclick=()=>{e.close(),e.remove()}}#n(){const e=this.storageContent(),t=document.querySelector("section"),n=document.createElement("dialog"),o=document.createElement("fieldset"),a=document.createElement("legend"),i=document.createElement("form"),r=document.createElement("label"),s="taskMake"===this.type?document.createElement("select"):document.createElement("input"),d=document.createElement("label"),c=document.createElement("input"),l=document.createElement("label"),p=document.createElement("select"),m=document.createElement("option"),u=document.createElement("option"),h=document.createElement("option"),g=document.createElement("label"),f=document.createElement("textarea"),y=document.createElement("div"),b=document.createElement("button"),k=document.createElement("button"),v=document.createElement("button"),C=document.createElement("label"),T=document.createElement("input");if(s.id="formFieldName",c.id="formFieldDate",p.id="formFieldPas",f.id="formFieldInfo",T.id="formFieldTask",b.id="formBtnConfirm",k.id="formBtnReset",v.id="formBtnCancel",C.textContent="Task goal (required):",T.setAttribute("required",""),C.appendChild(T),k.type="button",v.type="button","topicMake"!==this.type&&"taskMake"!==this.type&&s.setAttribute("disabled",""),b.textContent="confirm",k.textContent="reset",v.textContent="cancel",a.textContent="topicMake"===this.type?"Create a Project":"topicRevise"===this.type?"Revise a Project":"taskMake"===this.type||"taskAdd"===this.type?"Create a Task":"Revise a Task",r.textContent="topicMake"===this.type?"Name of the project (required):":"Name of the project:","topicMake"===this.type&&s.setAttribute("required",""),"topicMake"===this.type||"topicRevise"===this.type?("topicRevise"===this.type&&(s.textContent=e[this.idToIndexTopicObj()[this.idTopic]].name,s.name=this.idTopic),d.textContent="Project completion date:",l.textContent="Completion notice:",m.value="Never",u.value=1,h.value=3,m.textContent=m.value,u.textContent="a days ahead",h.textContent="3 days ahead",m.setAttribute("selected",""),g.textContent="Project goal:",c.type="date"):("taskRevise"===this.type&&(s.textContent=e[this.idToIndexTopicObj()[this.idTopic]].name,s.name=this.idTopic),"taskAdd"===this.type&&(s.textContent=e[this.idToIndexTopicObj()[this.idTopic]].name,s.name=this.idTopic),"taskMake"===this.type&&(r.style.flexDirection="row",r.style.columnGap="0.5ch",e[0].topicIds.forEach(((t,n)=>{let o=document.createElement("option");0==n&&o.setAttribute("default",""),o.value=e[t].id,o.textContent=e[t].name,s.appendChild(o)}))),this.type.startsWith("task")&&(d.textContent="Task start date (required):",c.setAttribute("required","")),l.textContent="Task priority:",m.value="Low",u.value="Normal",h.value="Heigh",m.textContent=m.value,u.textContent=u.value,h.textContent=h.value,u.setAttribute("selected",""),g.textContent="Task description:",c.type="datetime-local"),this.idTopic){const t=this.idToIndexTopicObj()[this.idTopic];if(s.value=e[t].name,"topicRevise"===this.type&&(c.value=e[t].date,p.value=3===e[t].pas?"3 days ahead":1===e[t].pas?"a day ahead":"Never",f.value=e[t].info),"taskRevise"===this.type){const t=this.idToIndexTaskObj()[this.idTask];T.value=e[t].task,c.setAttribute("value",e[t].startTime),p.value=e[t].pas,f.value=e[t].info}}t.appendChild(n),n.appendChild(o),o.appendChild(a),o.appendChild(i),o.appendChild(v),i.appendChild(r),i.appendChild(d),i.appendChild(l),this.type.startsWith("task")&&i.appendChild(C),i.appendChild(g),i.appendChild(y),r.appendChild(s),d.appendChild(c),l.appendChild(p),g.appendChild(f),p.appendChild(m),p.appendChild(u),p.appendChild(h),y.appendChild(b),y.appendChild(k)}};class C extends b{id="";dayTime;constructor(e,t){super(),this.id=e,this.dayTime=t||!1}projectsDaily(){const e=document.querySelector("h1"),t=document.querySelector("#btnLeftChList"),n=document.querySelector("#btnRightChList"),o=new y(Date.now()).dayString(),a=Object.keys(this.taskByDaily()).sort();this.#o(),e.textContent="DAILY TO-DO";let i=a.indexOf(o);function r(e){const t=document.querySelector("section"),n=document.querySelector("#timeChList"),a=(new b).taskByDaily();Object.keys(a).forEach((i=>{if(e===i){if(n.textContent=e===o?"Today":new Date(e).getDate()-(new Date).getDate()===1?"Tomorrow":new Date(e).getDate()-(new Date).getDate()===-1?"Yesterday":new y(e).calendarDate(),t.textContent="",(new b).storageContent()[0].topicIds.forEach((e=>{const n=(new b).storageContent();let o=n[e].date,a=n[e].pas;if("number"==typeof a&&new Date(o).getDate()-(new Date).getDate()<a+1){const i=document.createElement("div"),r=document.createElement("p"),s=document.createElement("button");i.className="rowDiv head warn",s.id="confirmWarn",s.type="button",s.textContent="ACCEPT",r.innerHTML=3===a?"End of <b>"+n[e].name.toUpperCase()+"</b> on "+new y(o).calendarDate()+"!":n[e].name.toUpperCase()+" ends tomorrow!",s.onclick=()=>{n[e].pas=3===a?1:"Never",localStorage.setItem("dataTodo",JSON.stringify(n)),i.remove()},t.appendChild(i),i.appendChild(r),i.appendChild(s)}})),i===o&&!a[o].length){const e=document.createElement("div"),n=document.createElement("h2");return e.className="startProject",n.innerText="There are no planned tasks for today,\n"+new y(o).calendarDate()+".",e.appendChild(n),void t.appendChild(e)}a[e].forEach((e=>{t.appendChild(new C("","show").#a(e))}))}}))}n.classList.toggle("invisible",!a[i+1]),t.classList.toggle("invisible",!a[i-1]),r(a[i]),n.onclick=()=>{++i,t.classList.toggle("invisible",0===i),n.classList.toggle("invisible",i===a.length-1),r(a[i]),n.blur()},t.onclick=()=>{--i,t.classList.toggle("invisible",0===i),n.classList.toggle("invisible",i===a.length-1),r(a[i]),t.blur()}}tasksProject(){const e=this.storageContent(),t=document.querySelector("h1"),n=document.querySelector("section"),o=this.idToIndexTopicObj()[this.id];if(this.#o(),t.textContent=e[o].name.toUpperCase(),n.textContent="",0==e[o].taskIds.length){const t=document.createElement("div"),a=document.createElement("h2"),i=document.createElement("button");return t.className="startProject",i.id="createFirstTask",a.innerText="There are no tasks for your project yet.\nWant to create the first one?",i.textContent="ADD TASK",i.onclick=()=>{new v("taskAdd",e[o].id).dialogForm()},t.appendChild(a),t.appendChild(i),void n.appendChild(t)}const a=[];e[o].taskIds.forEach((t=>a.push(e[t].id))),a.sort();let i=a.map((e=>this.idToIndexTaskObj()[e])),r=!1;i.forEach((t=>{const o=document.createElement("article");if(n.appendChild(o),r!==new y(e[t].startTime).calendarDate()){let n=new y(e[t].startTime).dayString()===new y(new Date).dayString();r=new y(e[t].startTime).calendarDate();const a=document.createElement("h3");a.className="dayHead",a.textContent=n?"Today, "+r:r,o.appendChild(a)}o.appendChild(this.#a(t))}))}topicsTodo(){const e=this.storageContent(),t=document.querySelector("h1"),n=document.querySelector("section");if(this.#o(),t.textContent="PROJECTS LIST",n.textContent="",0===e[0].topicIds.length)return void this.startPage();const o=[];e[0].topicIds.forEach((t=>o.push(e[t].id))),o.sort(),o.forEach((t=>{let o=this.idToIndexTopicObj()[t];const a=document.createElement("article"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("h3"),d=document.createElement("time"),c=document.createElement("p"),l=document.createElement("p"),p=document.createElement("span"),m=document.createElement("span"),u=document.createElement("span"),h=document.createElement("button"),g=document.createElement("button"),f=document.createElement("button");i.className="rowDiv head",r.className="rowDiv bodyLine",p.className="spanBold",m.className="spanBold",u.className="spanBold",h.textContent="DELETE",g.textContent="TO-DO LIST",f.textContent="REVISE",h.type="button",g.type="button",f.type="button",h.id="remove"+t,g.id="lookTask"+t,f.id="vary"+t,s.textContent=e[o].name.toUpperCase(),d.textContent=e[o].date,c.textContent=3===e[o].pas?"3 days ahead":1===e[o].pas?"a day ahead":"Never",l.textContent=""!==e[o].info?e[o].info:"Non",p.textContent="DEADLINE: ",m.textContent="NOTIFY: ",u.textContent="INFO: ",n.appendChild(a),a.appendChild(i),a.appendChild(r),i.appendChild(g),i.appendChild(s),i.appendChild(f),i.appendChild(h),r.appendChild(d),d.prepend(p),r.appendChild(c),c.prepend(m),r.appendChild(l),l.prepend(u),g.onclick=()=>{new C(e[o].id).tasksProject()},f.onclick=()=>{f.blur(),new v("topicRevise",e[o].id).dialogForm()},h.onclick=()=>{new k(e[o].id).topicDelete()}}))}startPage(){const e=document.createElement("div"),t=document.createElement("h2"),n=document.createElement("button");this.#o();const o=document.querySelector("section");e.className="startTitle",t.innerText="There are no projects for your to-do list yet.\nWant to create one?",n.id="createFirstProject",n.textContent="NEW PROJECT",n.onclick=()=>new v("topicMake").dialogForm(),o.textContent="",e.appendChild(t),e.appendChild(n),o.appendChild(e)}#a(e){const t=this.storageContent(),n=!this.dayTime&&document.createElement("div"),o=document.createElement("div"),a=document.createElement("input"),i=document.createElement("p"),r=document.createElement("span"),s=document.createElement("time"),d=document.createElement("p"),c=!this.dayTime&&document.createElement("button"),l=!this.dayTime&&document.createElement("button"),p=!!this.dayTime&&document.createElement("button"),m=!this.dayTime&&document.createElement("div"),u=!this.dayTime&&document.createElement("p");u&&(u.className="inform");const h=!(!t[e].info||this.dayTime)&&document.createElement("span");return o.className="rowDiv head",this.dayTime||(n.id="tp-"+t[e].id,m.className="rowDiv bodyLine"),a.type="checkBox",a.id="ch-"+t[e].id,t[e].completed&&a.setAttribute("checked",""),i.className="rowDiv decoration",i.classList.toggle("checkable",t[e].completed),r.textContent=t[e].task,s.className=!1===t[e].completed?g(e):"",s.setAttribute("datetime",new y(t[e].startTime).dateString()),s.textContent=new y(t[e].startTime).timesOfDay(),d.innerHTML="Low"===t[e].pas?"&#x272d;":"High"===t[e].pas?"&#x272d;&#x272d;&#x272d;":"&#x272d;&#x272d;",this.dayTime&&(p.id="showProjList"+t[e].id,p.type="button",p.className="btnProjList",t[0].topicIds.forEach((n=>{t[n].taskIds.includes(e)&&(p.innerText=t[n].name+"\nlist",p.onclick=()=>{new C(t[n].id).tasksProject()})}))),this.dayTime||(c.textContent="REVISE",c.name="revise",c.id="tasksProjRev"+t[e].id,c.type="button",l.textContent="DELETE",l.name="delete",l.id="tasksProjDel"+t[e].id,l.type="button"),a.onchange=()=>{a.hasAttribute("checked")?(i.classList.remove("checkable"),a.removeAttribute("checked"),t[e].completed=!1,localStorage.setItem("dataTodo",JSON.stringify(t)),s.className=g(e)):(i.classList.add("checkable"),a.setAttribute("checked",""),t[e].completed=!0,localStorage.setItem("dataTodo",JSON.stringify(t)),s.className="")},i.appendChild(r),i.appendChild(s),o.appendChild(a),o.appendChild(i),o.appendChild(d),this.dayTime&&o.appendChild(p),this.dayTime||(c.onclick=()=>{c.blur(),new v("taskRevise",this.id,t[e].id).dialogForm()},l.onclick=()=>{new k(n.id).taskDelete()},o.appendChild(c),o.appendChild(l),n.appendChild(o)),h&&!this.dayTime&&(u.innerText=t[e].info,h.className="spanBold",h.textContent="DETAILS: ",u.prepend(h)),this.dayTime?o:(m.appendChild(u),n.appendChild(m),n);function g(e){let n="",o=(new b).idTasksInWork();return new y(+t[e].id).dayString()<new y(Date.now()).dayString()&&(n="forgot"),o.length>0&&(o.includes(t[e].id)&&t[e].id!==o.at(-1)?n="during":t[e].id===o.at(-1)&&(n="startWork")),n}}#o(){const e=document.querySelector("#btnProjects"),t=document.querySelector("#btnHeaderMakeProject"),n=document.querySelector("#btnHeaderMakeTask"),o=document.querySelector("#btnDaily"),a=document.querySelector("h1"),i=document.querySelector("#changeDateList");let r=this.storageContent()[0].topicIds.length;i.classList.toggle("displayed",!this.dayTime),e.style.display=r?"":"none",a.style.display=r?"":"none",n.style.display=r?"":"none",o.style.display=r&&Object.keys((new b).idToIndexTaskObj()).length>0?"":"none",e.onclick=()=>{(new C).topicsTodo(),e.blur()},t.onclick=()=>{t.blur(),new v("topicMake").dialogForm()},n.onclick=()=>{n.blur(),new v("taskMake").dialogForm()},o.onclick=()=>{new C("","show").projectsDaily(),o.blur()}}}const T=C,x=[{id:"topicList",topicIds:[1,2]},{id:"routine",name:"routine",date:"Not specified",pas:"Never",info:"daily affairs",taskIds:[3,4,5,6]},{id:"my-lesson",name:"my lesson",date:new y(Date.now()+2592e5).dayString(),pas:3,info:"",taskIds:[7,8]},{id:`${Date.parse(new y(Date.now()-828e5).dateString())}`,startTime:new y(Date.now()-828e5).dateString(),task:"hard job",pas:"Low",info:"unknoun job",completed:!1},{id:`${Date.parse(new y(Date.now()+36e5).dateString())}`,startTime:new y(Date.now()+36e5).dateString(),task:"daily job",pas:"Normal",info:"",completed:!1},{id:`${Date.parse(new y(Date.now()+1728e5).dateString())}`,startTime:new y(Date.now()+1728e5).dateString(),task:"future job",pas:"Normal",info:"beutiful surprise",completed:!1},{id:`${Date.parse(new y(Date.now()).dateString())}`,startTime:new y(Date.now()).dateString(),task:"surprise for someone",pas:"High",info:"happy day for one puplec",completed:!1},{id:`${Date.parse(new y(Date.now()+864e5).dateString())}`,startTime:new y(Date.now()+864e5).dateString(),task:"learn finish",pas:"Normal",info:"be happy",completed:!1},{id:`${Date.parse(new y(Date.now()-18e5).dateString())}`,startTime:new y(Date.now()-18e5).dateString(),task:"learn start",pas:"Low",info:"create a general concept",completed:!1}];document.querySelector('link[rel="icon"]').href="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibGFjayIgZmlsbD0idHJhbnNwYXJlbnQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxsaW5lIHgxPSIwIiB4Mj0iMjQiIHkxPSI1IiB5Mj0iNSIgLz48bGluZSB4MT0iMCIgeDI9IjI0IiB5MT0iMTIiIHkyPSIxMiIgLz48bGluZSB4MT0iMCIgeDI9IjI0IiB5MT0iMTkiIHkyPSIxOSIgLz48L3N2Zz4=",localStorage.clear(),localStorage.setItem("dataTodo",JSON.stringify(x));const w=document.querySelector("html"),I=document.querySelector("#colorScheme");I.onclick=()=>{"light"!==w.style.colorScheme&&w.style.colorScheme?(w.style.colorScheme="light",I.textContent="DARK",I.blur()):(w.style.colorScheme="dark",I.textContent="LIGHT",I.blur())},Object.keys((new b).idToIndexTaskObj()).length?new T("","show").projectsDaily():(new b).storageContent()[0].topicIds.length?(new T).topicsTodo():(new T).startPage()})();